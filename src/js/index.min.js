const navSlide=()=>{const navToggle=document.querySelector(".nav-toggle"),nav=document.querySelector(".nav-links"),navLink=document.querySelectorAll(".nav-link");navToggle.addEventListener("click",()=>{nav.classList.toggle("nav-active"),navToggle.classList.toggle("toggle")}),navLink.forEach(link=>{link.addEventListener("click",()=>{nav.classList.contains("nav-active")&&nav.classList.toggle("nav-active")})})};function lockScroll(){document.body.classList.toggle("lock-scroll")}function Swipe(document,callback){var self=this;function handleEvent(e){self.touchHandler(e)}this.callback=callback,document.addEventListener("touchstart",handleEvent,{passive:!1}),document.addEventListener("touchmove",handleEvent,{passive:!1}),document.addEventListener("touchend",handleEvent,{passive:!1})}navSlide(),Swipe.prototype.touches={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},Swipe.prototype.touchHandler=function(event){var touch;if(void 0!==event&&void 0!==event.touches)switch(touch=event.touches[0],event.type){case"touchstart":case"touchmove":this.touches[event.type].x=touch.pageX,this.touches[event.type].y=touch.pageY;break;case"touchend":this.touches[event.type]=!0;var x=this.touches.touchstart.x-this.touches.touchmove.x,y=this.touches.touchstart.y-this.touches.touchmove.y;x<0&&(x/=-1),y<0&&(y/=-1),this.touches.direction=x>y?this.touches.touchstart.x<this.touches.touchmove.x?"right":"left":this.touches.touchstart.y<this.touches.touchmove.y?"down":"up",this.callback(event,this.touches.direction)}};class Lightbox{constructor({lazyload:lazyload=!0,counter:counter=!0,arrows:arrows=!0,slideSpeed:slideSpeed=400,...options}){options.selector?"string"!=typeof options.selector?console.error(options.selector,`is not a string but a(n) ${typeof options.selector}`):(this.selector=options.selector,this.lazyload=lazyload,this.counter=counter,this.arrows=arrows,this.slideSpeed=slideSpeed,this.links=Array.from(document.querySelectorAll(`a${options.selector}`)),this.offsets=[],this.nodes={},this.imageIndex=null,this.links.length>0?(this.createLightbox(),this.createNodes(),this.eventListeners(this.links)):console.error(`The selector '${this.selector}' did not yield results. Please make sure the selector is applied on an 'a' element.`)):console.error('Please add a valid css selector with the option "selector:"')}goTo=(num,event)=>{const{items:items,counter:counter,lightboxNode:lightboxNode}=this.nodes;this.counter&&(counter.innerHTML=`${num+1}/${this.links.length}`);const spinner='<div class="spinner"></div>',img=items[num].querySelector("img");if(this.lazyload){const src=img.getAttribute("data-src");items[num].insertAdjacentHTML("beforeend",spinner),img.setAttribute("src",src);const imgLoad=new Image;imgLoad.onload=()=>{items[num].classList.add("is-active"),items[num].classList.add("is-loaded")},imgLoad.src=src}else items[num].classList.add("is-active"),items[num].classList.add("is-loaded");for(let i=0;i<this.offsets.length;i++){const offset=this.offsets[i]-100*num;items[i].style.transform=`translateX(${offset}vw)`,event&&("gallery__itemThumb"===event.target.className?items[i].style.transition="opacity 0.4s ease":items[i].style.transition=`transform ${this.slideSpeed}ms ease-out`)}};createNodes=links=>{Object.assign(this.nodes,{lightboxNode:document.querySelector(".m-lightbox"),items:Array.from(document.querySelectorAll(".m-lightbox__slide")),next:document.querySelector(".m-lightbox__nextPrev--next"),prev:document.querySelector(".m-lightbox__nextPrev--prev"),close:document.querySelector(".m-lightbox__close")}),Object.assign(this.nodes,{counter:document.querySelector(".m-lightbox__counter")})};eventListeners=links=>{const{lightboxNode:lightboxNode,items:items,next:next,prev:prev,close:close}=this.nodes;links.forEach((item,index)=>{item.addEventListener("click",e=>{e.preventDefault(),lightboxNode.classList.add("is-active"),document.body.style.overflow="hidden",this.imageIndex=index,this.goTo(index,e),this.setNav(index)})}),next.addEventListener("click",e=>{this.goToNext(e)}),prev.addEventListener("click",e=>{this.goToPrev(e)}),close.addEventListener("click",()=>{this.closeBox()}),document.onkeydown=e=>{switch(e.keyCode){case 37:this.goToPrev(e);break;case 39:this.goToNext(e);break;case 27:this.closeBox()}},items.forEach(item=>{new Swipe(item.querySelector("img"),(e,direction)=>{switch(e.preventDefault(),direction){case"up":case"down":break;case"left":this.goToNext(e);break;case"right":this.goToPrev(e)}})})};setNav=index=>{if(this.arrows){const{next:next,prev:prev}=this.nodes;index<this.links.length-1&&next.classList.add("is-active"),index>=this.links.length-1&&next.classList.remove("is-active"),index>0&&prev.classList.add("is-active"),index<=0&&prev.classList.remove("is-active")}};goToNext=e=>{const{items:items}=this.nodes;this.imageIndex<items.length-1&&(this.goTo(this.imageIndex+1,e),setTimeout(()=>{items[this.imageIndex-1].classList.remove("is-active")},this.slideSpeed),this.imageIndex+=1,this.setNav(this.imageIndex))};goToPrev=e=>{const{items:items}=this.nodes;this.imageIndex>0&&(this.goTo(this.imageIndex-1,e),setTimeout(()=>{items[this.imageIndex+1].classList.remove("is-active")},this.slideSpeed),this.imageIndex-=1,this.setNav(this.imageIndex))};closeBox=()=>{const{lightboxNode:lightboxNode,items:items}=this.nodes;lightboxNode.classList.remove("is-active"),document.body.style.overflow="auto",setTimeout(()=>{items.forEach(item=>item.classList.remove("is-active"))},this.slideSpeed),lightboxNode.parentNode.removeChild(document.getElementById("lightbox"))};renderImages=images=>{const imagesLinks=images.map((item,index)=>{const offset=100*index;this.offsets.push(offset);const imageSrc=item.getAttribute("href");return`\n                <li class='m-lightbox__slide' style='transform: translateX(${offset}vw)'>\n                    ${this.lazyload?`\n                        <img alt="slideshowImage" data-src='${imageSrc}'/>\n                    `:`\n                        <img alt="slideshowImage" src='${imageSrc}'/>\n                    `}\n                </li>\n            `});return imagesLinks};createLightbox=()=>{const lightbox=`\n            <div class='m-lightbox' id='lightbox'>\n                <div class='m-lightbox__controls'>\n                    <button aria-label="m-lightbox__close" class='m-lightbox__close'>\n                        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                        </svg>\n                    </button>\n                    <button aria-label="m-lightbox__nextPrev" class='m-lightbox__nextPrev m-lightbox__nextPrev--prev'>\n                        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>\n                        </svg>\n                    </button>\n                    <button aria-label="m-lightbox__nextPrev" class='m-lightbox__nextPrev m-lightbox__nextPrev--next'>\n                        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                            <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>\n                        </svg>\n                    </button>\n                </div>\n                <ul class='m-lightBox__slider'>\n                    ${this.renderImages(this.links).join("")}\n                </ul>\n                <div class='m-lightbox__counter'>\n                </div>\n            </div>\n        `;document.body.insertAdjacentHTML("beforeend",lightbox)}}const slideshow=document.getElementById("clickSlideshow");slideshow.addEventListener("click",(function(){const lb=new Lightbox({selector:'[data-rel="aiLightbox"]',lazyload:!0,arrows:!0,counter:!0,slideSpeed:500})}));